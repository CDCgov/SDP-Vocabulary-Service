!function e(t,r,a){function n(o,d){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!d&&s)return s(o,!0);if(i)return i(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return n(r?r:e)},l,l.exports,e,t,r,a)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(e,t,r){"use strict";function a(){return"undefined"!=typeof InstallTrigger}function n(){return!!document.documentMode}Object.defineProperty(r,"__esModule",{value:!0}),r.isFirefox=a,r.isIE=n},{}],2:[function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(){if(void 0===arguments[0])return window.console.error("printJS expects at least 1 attribute."),!1;var e=new y(arguments);switch(u="max-width: "+e.params.maxWidth+"px !important;"+e.params.font_size+" !important;",f="font-family:"+e.params.font+" !important; font-size: "+e.params.font_size+" !important; width:100%;",h="font-weight:300;",e.params.type){case"pdf":if(l.isFirefox()){var t=window.open(e.params.printable,"_blank");t.focus(),e.params.showModal&&e.disablePrintModal()}else e.pdf();break;case"image":e.image();break;case"html":e.html();break;case"json":e.json();break;default:throw new Error("Invalid print type. Available types are: pdf, html, image and json.")}}function i(e){return'<div style="'+f+'">'+e+"</div>"}function o(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(r,"__esModule",{value:!0}),r.PrintJS=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r.print=n;var p=e("./browser"),l=a(p),m=["pdf","html","image","json"],c={printable:null,type:"pdf",header:null,maxWidth:800,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,properties:null,showModal:!1,modalMessage:"Retrieving Document...",frameId:"printJS",border:!0,htmlData:""},u=void 0,f=void 0,h=void 0,y=r.PrintJS=function(){var e=arguments[0],t=this;switch(t.params=o({},c),s(e[0])){case"string":t.params.printable=encodeURI(e[0]),t.params.type=e[1]||c.type;break;case"object":t.params.printable=e[0].printable,t.params.type=e[0].type||c.type,t.params.frameId=e[0].frameId||c.frameId,t.params.header=e[0].header||c.header,t.params.maxWidth=e[0].maxWidth||c.maxWidth,t.params.font=e[0].font||c.font,t.params.font_size=e[0].font_size||c.font_size,t.params.honorMarginPadding="undefined"!=typeof e[0].honorMarginPadding?e[0].honorMarginPadding:c.honorMarginPadding,t.params.properties=e[0].properties||c.properties,t.params.showModal="undefined"!=typeof e[0].showModal?e[0].showModal:c.showModal,t.params.modalMessage=e[0].modalMessage||c.modalMessage;break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+s(e[0]))}t.validateInput(),t.params.showModal&&t.showModal();var r=document.getElementById(t.params.frameId);r&&r.parentNode.removeChild(r),l.isIE()&&"pdf"===t.params.type?(t.printFrame=document.createElement("embed"),t.printFrame.setAttribute("type","application/pdf"),t.printFrame.setAttribute("style","width:0px;height:0px;")):(t.printFrame=document.createElement("iframe"),t.printFrame.setAttribute("style","display:none;")),t.printFrame.setAttribute("id",t.params.frameId),"pdf"!==t.params.type&&(t.printFrame.srcdoc="<html><head></head><body></body></html>")};y.prototype.pdf=function(){var e=this;e.params.showModal&&!l.isIE()?!function(){var t=document.createElement("img");t.src=e.params.printable;var r=new Promise(function(e,r){function a(){t.complete&&(window.clearInterval(n),e("PrintJS: PDF loaded. Read to print."))}var n=setInterval(a,100)});r.then(function(t){e.printFrame.setAttribute("src",e.params.printable),e.print()})}():(e.printFrame.setAttribute("src",e.params.printable),e.print())},y.prototype.image=function(){function e(){var e=document.createElement("div");if(e.setAttribute("style","width:100%"),l.isFirefox()){var a=document.createElement("canvas");a.setAttribute("width",t.width),a.setAttribute("height",t.height);var n=a.getContext("2d");n.drawImage(t,0,0),t.setAttribute("src",a.toDataURL("JPEG",1))}e.appendChild(t),r.params.header&&r.addHeader(e),r.params.htmlData=e.outerHTML,r.print()}var t=document.createElement("img");t.setAttribute("style","width:100%;"),t.src=this.params.printable;var r=this;if(l.isIE())e();else{var a=new Promise(function(e,r){function a(){t.complete&&(window.clearInterval(n),e("PrintJS: Image loaded. Read to print."))}var n=setInterval(a,100)});a.then(function(t){e()})}},y.prototype.html=function(){var e=document.getElementById(this.params.printable);if(!e)return window.console.error("Invalid HTML element id: "+this.params.printable),!1;var t=document.createElement("div");t.appendChild(e.cloneNode(!0)),t.setAttribute("style","display:none;"),t.setAttribute("id","printJS-html"),e.parentNode.appendChild(t),t=document.getElementById("printJS-html"),t.setAttribute("style",this.collectStyles(t)+"margin:0 !important;");var r=t.children;this.loopNodesCollectStyles(r),this.params.header&&this.addHeader(t),t.parentNode.removeChild(t),this.params.htmlData=i(t.innerHTML),this.print()},y.prototype.json=function(){if("object"!==s(this.params.printable))throw new Error("Invalid javascript data object (JSON).");if(!this.params.properties||"object"!==s(this.params.properties))throw new Error("Invalid properties array for your JSON data.");var e="";this.params.header&&(e+='<h1 style="'+h+'">'+this.params.header+"</h1>"),e+=this.jsonToHTML(),this.params.htmlData=i(e),this.print()},y.prototype.print=function(){function e(){if(a.focus(),l.isIE()&&"pdf"!==r.params.type)try{a.contentWindow.document.execCommand("print",!1,null)}catch(e){a.contentWindow.print()}else a.contentWindow.print();r.params.showModal&&r.disablePrintModal()}function t(){"undefined"==typeof a.print?setTimeout(function(){t()},1e3):(a.print(),setTimeout(function(){a.parentNode.removeChild(a)},2e3))}var r=this;document.getElementsByTagName("body")[0].appendChild(r.printFrame);var a=document.getElementById(r.params.frameId);l.isIE()&&"pdf"===r.params.type?t():r.printFrame.onload=function(){if("pdf"===r.params.type)e();else{var t=a.contentWindow||a.contentDocument;t.document&&(t=t.document),t.body.innerHTML=r.params.htmlData,e()}}},y.prototype.collectStyles=function(e){var t=document.defaultView||window,r=[],a="";if(t.getComputedStyle){r=t.getComputedStyle(e,"");for(var n=0;n<r.length;n++){var i=["border","float","box"],o=["clear","display","width","min-width","height","min-height","max-height"];this.params.honorMarginPadding&&o.push("margin","padding"),this.params.honorColor&&o.push("color");for(var d=0;d<o.length;d++)r[n].indexOf(i[d])===-1&&0!==r[n].indexOf(o[d])||(a+=r[n]+":"+r.getPropertyValue(r[n])+";")}}else if(e.currentStyle){r=e.currentStyle;for(var s in r)r.indexOf("border")!==-1&&r.indexOf("color")!==-1&&(a+=s+":"+r[s]+";")}return a+=u},y.prototype.loopNodesCollectStyles=function(e){for(var t=0;t<e.length;t++){var r=e[t],a=r.tagName;if("INPUT"===a||"TEXTAREA"===a||"SELECT"===a){var n=this.collectStyles(r),i=r.parentNode,o="SELECT"===a?document.createTextNode(r.options[r.selectedIndex].text):document.createTextNode(r.value),d=document.createElement("div");d.appendChild(o),d.setAttribute("style",n),i.appendChild(d),i.removeChild(r)}else r.setAttribute("style",this.collectStyles(r));var s=r.children;s.length&&this.loopNodesCollectStyles(s)}},y.prototype.addHeader=function(e){var t=document.createElement("h1"),r=document.createTextNode(this.params.header);t.appendChild(r),t.setAttribute("style",h),e.insertBefore(t,e.childNodes[0])},y.prototype.jsonToHTML=function(){var e=this.params.printable,t=this.params.properties,r='<div style="display:flex; flex-direction: column;">';r+='<div style="flex:1; display:flex;">';for(var a=0;a<t.length;a++)r+='<div style="flex:1; padding:5px;">'+d(t[a])+"</div>";r+="</div>";for(var n=0;n<e.length;n++){r+='<div style="flex:1; display:flex;',r+=this.params.border?"border:1px solid lightgray;":"",r+='">';for(var i=0;i<t.length;i++)r+='<div style="flex:1; padding:5px;">'+e[n][t[i]]+"</div>";r+="</div>"}return r+="</div>"},y.prototype.validateInput=function(){if(!this.params.printable)throw new Error("Missing printable information.");if(!this.params.type||"string"!=typeof this.params.type||m.indexOf(this.params.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.")},y.prototype.showModal=function(){var e="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",t=document.createElement("div");t.setAttribute("style",e),t.setAttribute("id","printJS-Modal");var r=document.createElement("div");r.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var a=document.createElement("div");a.setAttribute("class","printClose"),a.setAttribute("id","printClose"),r.appendChild(a);var n=document.createElement("span");n.setAttribute("class","printSpinner"),r.appendChild(n);var i=document.createTextNode(this.params.modalMessage);r.appendChild(i),t.appendChild(r),document.getElementsByTagName("body")[0].appendChild(t);var o=this;document.getElementById("printClose").addEventListener("click",function(){o.disablePrintModal()})},y.prototype.disablePrintModal=function(){var e=document.getElementById("printJS-Modal");e.parentNode.removeChild(e)}},{"./browser":1}],3:[function(e,t,r){"use strict";var a=e("./js/print");window.printJS=a.print},{"./js/print":2}]},{},[3]);
