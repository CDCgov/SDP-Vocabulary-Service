<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @response_set.name %>
</p>

<p>
  <strong>Description:</strong>
  <%= @response_set.description %>
</p>

<p>
  <strong>Responses:</strong><br>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Response Code</th>
        <th>Code System</th>
        <th>Display Name</th>
      </tr>
    </thead>
    <tbody>
      <% @response_set.responses.each do |response| %>
      <tr>
        <td><%= response.value %></td>
        <td><%= response.code_system %></td>
        <td><%= response.display_name %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</p>

<p>
  <strong>Questions:</strong><br>
  <% @response_set.questions.each do |question| %>
    <%= link_to question.content, question_path(question) %><br>
  <% end %>
</p>

<p>
  <strong>Oid:</strong>
  <%= @response_set.oid %>
</p>

<p>
  <strong>Author:</strong>
  <%= @response_set.created_by.email if @response_set.created_by.present? %>
</p>

<p>
  <strong>Parent:</strong>
  <%= @response_set.parent_id if @response_set.parent_id.present? %>
</p>

<% if @response_set.other_versions.present? %>
<p>
  <strong>Other Versions:</strong>
  <ol>
    <% @response_set.other_versions.each do |ov| %>
      <li><%= link_to "Version: #{ov.version}", ov %> - Created <%= time_ago_in_words(ov.created_at) %> ago</li>
    <% end %>
  </ol>
</p>
<% end %>

<%= link_to 'Revise', revise_response_set_path(@response_set) %> |
<%= link_to 'Extend', extend_response_set_path(@response_set) %> |
<%= link_to 'Back', response_sets_path %>
