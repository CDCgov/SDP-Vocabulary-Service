<p id="notice"><%= notice %></p>

<p>
  <strong>Content:</strong>
  <%= @question.content %>
</p>

<p>
  <strong>Author:</strong>
  <%= @question.created_by.email if @question.created_by.present? %>
</p>

<p>
  <strong>Created:</strong>
  <%= @question.created_at %>
</p>

<p>
  <strong>Updated:</strong>
  <%= @question.updated_by.email if @question.created_by.present? %>
  <%= @question.updated_at %>
</p>

<p>
  <strong>Response Set Names:</strong><br>
  <% @question.response_sets.each do |rs| %>
    <%= link_to rs.name, response_set_path(rs) %>
    <br>
  <% end %>
</p>

<p>
  <strong>Question Type:</strong>
  <%= @question.question_type.try :name %>
</p>

<% if @question.other_versions.present? %>
<p>
  <strong>Most Recent Version:</strong>
  <% if @question.other_versions[0].version > @question.version %>
    <%= @question.other_versions[0].version %>
  <% else %>
    <%= @question.version %>
  <% end %>
</p>
<p>
  <strong>Other Versions:</strong>
  <ol>
    <% @question.other_versions.each do |ov| %>
      <% if @question.version == (ov.version + 1) %>
        <li>Version: <%= @question.version %> - Created <%= time_ago_in_words(@question.created_at) %> ago (Currently Selected)
        </li>
      <% end %>
      <li><%= link_to "Version: #{ov.version}", ov %> - Created <%= time_ago_in_words(ov.created_at) %> ago</li>
    <% end %>
    <% if @question.version == 1 %>
      <li>Version: <%= @question.version %> - Created <%= time_ago_in_words(@question.created_at) %> ago (Currently Selected)
      </li>
    <% end %>
  </ol>
</p>
<% end %>

<% if user_signed_in? %>
    <%= link_to 'Revise', revise_question_path(@question) %> |
<% end %>
<%= link_to 'Back', questions_path %>
